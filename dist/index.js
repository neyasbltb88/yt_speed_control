!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://localhost:3000/",n(n.s=7)}([function(e,t,n){window,e.exports=function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(t);var l={},c={},u=function(e){return"object"===o(e)&&!Array.isArray(e)},h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l[t]?l[t]:(this.init(t,n,a),this)}var t,n;return t=e,(n=[{key:"set",value:function(e,t){if(!this.isDestroyed&&void 0!==t){var n=JSON.parse(localStorage.getItem(this.name));return n?(n[e]=t,localStorage.setItem(this.name,JSON.stringify(n)),this):this}}},{key:"get",value:function(e){if(!this.isDestroyed){var t=JSON.parse(localStorage.getItem(this.name));return t?t[e]:this}}},{key:"getAll",value:function(){if(!this.isDestroyed)return JSON.parse(localStorage.getItem(this.name))}},{key:"remove",value:function(e){if(!this.isDestroyed){var t=JSON.parse(localStorage.getItem(this.name));return t?(delete t[e],localStorage.setItem(this.name,JSON.stringify(t)),this):this}}},{key:"clear",value:function(){if(!this.isDestroyed)return localStorage.removeItem(this.name),this}},{key:"destroy",value:function(){this.isDestroyed||(c[this.name]=!0,delete l[this.name])}},{key:"isDestroyed",get:function(){return!!c[this.name]}},{key:"init",value:function(e,t,n){return delete c[e],this.name=e,function(e,t,n){var a=localStorage.getItem(e);if(!(e in localStorage&&a))return localStorage.setItem(e,JSON.stringify(t)),!0;try{if(a=JSON.parse(a),!u(a)||!u(t))return!1;if(n){var i=new Set(Object.keys(t));Object.keys(a).forEach((function(e){i.has(e)||delete a[e]}))}a=r(r({},t),a),localStorage.setItem(e,JSON.stringify(a))}catch(e){}}(e,t,n),l[e]=this,this}}])&&a(t.prototype,n),e}();t.default=h}]).default},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik03Ljc2NiAxLjY1OEwzLjAwOCA2LjA5NGw0LjQzNyA0Ljc1OC0xLjQ0OCAxLjM1TC4yMSA1Ljk5NyA2LjQxNi4yMXoiLz48L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0uMDQ4IDEuNjU4bDQuNzU4IDQuNDM2TC4zNyAxMC44NTJsMS40NDggMS4zNSA1Ljc4Ny02LjIwNUwxLjQuMjF6Ii8+PC9zdmc+"},function(e,t,n){var a=n(4);"string"==typeof a&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};n(6)(a,i);a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".PlaybackRateBtn{color:#fff}.PlaybackRateBtn-inner{width:100%;height:100%;display:inline-flex !important;position:relative;justify-content:space-between}.PlaybackRateBtn-btn{display:flex;align-items:center;flex-grow:1;flex-basis:50%;opacity:.15;transition:opacity 250ms ease-in-out}.PlaybackRateBtn-btn:hover{opacity:1}.PlaybackRateBtn-minus{justify-content:flex-start}.PlaybackRateBtn-plus{justify-content:flex-end}.PlaybackRateBtn-chevron{width:8px;height:14px}.PlaybackRateBtn-value{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;justify-content:center;align-items:center;z-index:-1}",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var i=(s=a,o=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(l," */")),r=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot).concat(e," */")}));return[n].concat(r).concat([i]).join("\n")}var s,o,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},i=0;i<this.length;i++){var r=this[i][0];null!=r&&(a[r]=!0)}for(var s=0;s<e.length;s++){var o=e[s];null!=o[0]&&a[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="(".concat(o[2],") and (").concat(n,")")),t.push(o))}},t}},function(e,t,n){"use strict";var a,i={},r=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},s=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function o(e,t){for(var n=[],a={},i=0;i<e.length;i++){var r=e[i],s=t.base?r[0]+t.base:r[0],o={css:r[1],media:r[2],sourceMap:r[3]};a[s]?a[s].parts.push(o):n.push(a[s]={id:s,parts:[o]})}return n}function l(e,t){for(var n=0;n<e.length;n++){var a=e[n],r=i[a.id],s=0;if(r){for(r.refs++;s<r.parts.length;s++)r.parts[s](a.parts[s]);for(;s<a.parts.length;s++)r.parts.push(p(a.parts[s],t))}else{for(var o=[];s<a.parts.length;s++)o.push(p(a.parts[s],t));i[a.id]={id:a.id,refs:1,parts:o}}}}function c(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var a=n.nc;a&&(e.attributes.nonce=a)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var i=s(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var u,h=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,n,a){var i=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=h(t,i);else{var r=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function b(e,t,n){var a=n.css,i=n.media,r=n.sourceMap;if(i&&e.setAttribute("media",i),r&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var d=null,y=0;function p(e,t){var n,a,i;if(t.singleton){var r=y++;n=d||(d=c(t)),a=f.bind(null,n,r,!1),i=f.bind(null,n,r,!0)}else n=c(t),a=b.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=o(e,t);return l(n,t),function(e){for(var a=[],r=0;r<n.length;r++){var s=n[r],c=i[s.id];c&&(c.refs--,a.push(c))}e&&l(o(e,t),t);for(var u=0;u<a.length;u++){var h=a[u];if(0===h.refs){for(var f=0;f<h.parts.length;f++)h.parts[f]();delete i[h.id]}}}}},function(e,t,n){"use strict";n.r(t);var a=class{constructor(e="",t=!1){Object.defineProperty(this,"allEvents",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"onceCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"eventsPrefix",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoPrefix",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.eventsPrefix=e,this.autoPrefix=t}getEventName(e,t=this.autoPrefix){return this.eventsPrefix&&t?`${this.eventsPrefix}:${e}`:e}on(e,t){let n=this.getEventName(e);return this.events[n]=this.events[n]||new Set,this.events[n].add(t),this}off(e,t){let n=this.getEventName(e);return this.events[n]?(this.events[n].delete(t),this):this}one(e,t){let n=this.getEventName(e);return this.events[n]=new Set([t]),this}once(e,t){let n=this.getEventName(e);return this.events[n]=this.events[n]||new Set,this.events[n].add(t),this.onceCallbacks[n]=this.onceCallbacks[n]||new Set,this.onceCallbacks[n].add(t),this}onAll(e){return this.allEvents.add(e),this}offAll(e){return this.allEvents.delete(e),this}emit(e,t){let n=this.getEventName(e,!0);return this.allEvents.forEach(n=>n(e,t)),this.events[n]&&this.events[n].forEach(a=>{var i,r;a(t),null!==(i=this.onceCallbacks[n])&&void 0!==i&&null!==(r=i.has)&&void 0!==r&&r.call(i,a)&&(this.off(e,a),this.onceCallbacks[n].delete(a))}),this}};var i=(e,t,...n)=>{if("function"==typeof e)return e();if("string"==typeof e){const a=document.createDocumentFragment(),i=document.createElement(e);return n.forEach(e=>{if(e instanceof HTMLElement)a.appendChild(e);else if("string"==typeof e||"number"==typeof e){const t=document.createTextNode(e);a.appendChild(t)}}),i.appendChild(a),Object.assign(i,t),i}};var r=e=>!1===e||null==e||""===e;const s=(e=>{const t=()=>{};let n={log:t,warn:t,error:t};if(!e&&window.console){const e=(e,t)=>{e[t]=(...e)=>{window.console[t].apply(window.console,e)}};e(n,"log"),e(n,"warn"),e(n,"error")}return n})(!0),o={selectors:{player:"#movie_player",container:".ytp-right-controls"}};function l(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,u(e,t,"set"),n),n}function c(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,u(e,t,"get"))}function u(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var h=new WeakMap,f=new WeakMap,b=new WeakMap,d=class extends a{constructor(){super(),h.set(this,{writable:!0,value:null}),f.set(this,{writable:!0,value:null}),b.set(this,{writable:!0,value:e=>{this.emit("onPlaybackRateChange",e)}})}get controls(){return c(this,f)}getAvailablePlaybackRates(){return c(this,h).getAvailablePlaybackRates()}getPlaybackRate(){return c(this,h).getPlaybackRate()}setPlaybackRate(e){c(this,h).setPlaybackRate(e)}init(){let e=document.querySelector(o.selectors.player),t=e.querySelector(o.selectors.container);return!(!e||!t)&&(e&&t?(l(this,h,e),l(this,f,t),c(this,h).addEventListener("onPlaybackRateChange",c(this,b)),!0):void s.error("YouTubePlayerController: При инициализации отсутствуют необходимые данные",{player:e,controls:t}))}destroy(){c(this,h).removeEventListener("onPlaybackRateChange",c(this,b)),l(this,h,null),l(this,f,null)}},y=n(0),p=n.n(y);const v={playbackRateValue:1};var m=class{constructor(){var e,t,n;e=this,t="storage",n=new p.a("yt_speed_control",v,!0),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}get playbackRateValue(){return this.getPlaybackRateValue()}set playbackRateValue(e){this.setPlaybackRateValue(e)}getPlaybackRateValue(){return this.storage.get("playbackRateValue")}setPlaybackRateValue(e){this.storage.set("playbackRateValue",e)}},g=(n(3),n(1)),P=n.n(g),k=n(2),w=n.n(k);var R=e=>{let{value:t,onMinus:n,onPlus:a}=e;return i("div",{className:"PlaybackRateBtn ytp-button"},i("div",{className:"PlaybackRateBtn-inner"},i("div",{className:"PlaybackRateBtn-btn PlaybackRateBtn-minus",onclick:n},i("img",{className:"PlaybackRateBtn-chevron",src:P.a})),i("div",{className:"PlaybackRateBtn-btn PlaybackRateBtn-plus",onclick:a},i("img",{className:"PlaybackRateBtn-chevron",src:w.a})),i("div",{className:"PlaybackRateBtn-value"},t)))};function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=class extends a{constructor(e=1){super(),j(this,"container",null),j(this,"btn",null),j(this,"value",null),j(this,"onPlus",()=>{this.emit("plus")}),j(this,"onMinus",()=>{this.emit("minus")}),j(this,"setValue",e=>{e!==this.value&&(this.value=e,this.container&&this.update())}),this.value=e}init(e){if(!e)return void s.error("PlaybackRateView: При инициализации отсутствует контейнер");this.container=e;let{value:t,onMinus:n,onPlus:a}=this;this.btn=R({value:t,onMinus:n,onPlus:a}),this.container.insertAdjacentElement("afterbegin",this.btn)}update(){let e=this.btn,{value:t,onMinus:n,onPlus:a}=this;this.btn=R({value:t,onMinus:n,onPlus:a}),this.container.replaceChild(this.btn,e)}destroy(){this.btn?this.btn.remove():s.error("PlaybackRateView: При уничтожении отсутствует кнопка")}};function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,_(e,t,"set"),n),n}function O(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,_(e,t,"get"))}function _(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var N=new WeakMap,C=new WeakMap,M=new WeakMap,A=class{constructor(){N.set(this,{writable:!0,value:new m}),C.set(this,{writable:!0,value:null}),M.set(this,{writable:!0,value:new x(this.playbackRateValue)}),S(this,"decrementPlaybackRate",()=>{let e=this.getPrevPlaybackRateValue(this.playbackRateValue);if(!r(e))return this.setPlaybackRateValue(e),e}),S(this,"incrementPlaybackRate",()=>{let e=this.getNextPlaybackRateValue(this.playbackRateValue);if(!r(e))return this.setPlaybackRateValue(e),e}),S(this,"setPlaybackRateValue",e=>"number"!=typeof e?(s.error("Controller setPlaybackRateValue: Устанавливаемое значение должно быть числом"),!1):this.availablePlaybackRates.includes(e)?(O(this,N).playbackRateValue=e,O(this,M).setValue(e),O(this,C).getPlaybackRate()!==e&&O(this,C).setPlaybackRate(e),!0):(s.error("Controller setPlaybackRateValue: Устанавливаемое значение должно быть одним из допустимых значений: ",this.availablePlaybackRates),!1))}get playbackRateValue(){return O(this,N).playbackRateValue}get availablePlaybackRates(){return O(this,C).getAvailablePlaybackRates()}getPrevPlaybackRateValue(e){let t=this.availablePlaybackRates.findIndex(t=>t===e);if(r(t))return;let n=this.availablePlaybackRates[t-1];return r(n)?void 0:n}getNextPlaybackRateValue(e){let t=this.availablePlaybackRates.findIndex(t=>t===e);if(r(t))return;let n=this.availablePlaybackRates[t+1];return r(n)?void 0:n}init(e){e?(E(this,C,e),this.setPlaybackRateValue(this.playbackRateValue),O(this,C).on("onPlaybackRateChange",this.setPlaybackRateValue),O(this,M).init(O(this,C).controls),O(this,M).on("minus",this.decrementPlaybackRate),O(this,M).on("plus",this.incrementPlaybackRate)):s.error("Controller: При инициализации отсутствует контроллер плеера")}destroy(){O(this,C).off("onPlaybackRateChange",this.setPlaybackRateValue),O(this,M).off("minus",this.decrementPlaybackRate),O(this,M).off("plus",this.incrementPlaybackRate),O(this,M).destroy(),E(this,C,null)}},L=Object.defineProperty,T=(e,t,n)=>(((e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),n);class I{constructor(e="",t=!1){Object.defineProperty(this,"allEvents",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"onceCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"eventsPrefix",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoPrefix",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.eventsPrefix=e,this.autoPrefix=t}getEventName(e,t=this.autoPrefix){return this.eventsPrefix&&t?`${this.eventsPrefix}:${e}`:e}on(e,t){let n=this.getEventName(e);return this.events[n]=this.events[n]||new Set,this.events[n].add(t),this}off(e,t){let n=this.getEventName(e);return this.events[n]?(this.events[n].delete(t),this):this}one(e,t){let n=this.getEventName(e);return this.events[n]=new Set([t]),this}once(e,t){let n=this.getEventName(e);return this.events[n]=this.events[n]||new Set,this.events[n].add(t),this.onceCallbacks[n]=this.onceCallbacks[n]||new Set,this.onceCallbacks[n].add(t),this}onAll(e){return this.allEvents.add(e),this}offAll(e){return this.allEvents.delete(e),this}emit(e,t){let n=this.getEventName(e,!0);return this.allEvents.forEach(n=>n(e,t)),this.events[n]&&this.events[n].forEach(a=>{var i,r;a(t),null!=(r=null==(i=this.onceCallbacks[n])?void 0:i.has)&&r.call(i,a)&&(this.off(e,a),this.onceCallbacks[n].delete(a))}),this}}const V=(e,t)=>Object.assign({},t,e),D=e=>"string"==typeof e?document.querySelector(e):(null!=e&&e.$el&&"object"==typeof e.$el&&(e=e.$el),"object"==typeof e&&"addEventListener"in e?e:null),B="CTRL",K="SHIFT",z="ALT",J="META",H={CTRL:new Set(["ControlLeft","ControlRight"]),SHIFT:new Set(["ShiftLeft","ShiftRight"]),ALT:new Set(["AltLeft","AltRight"]),META:new Set(["MetaLeft","MetaRight"])},W=e=>{let t=new Set;const{ctrlKey:n,altKey:a,shiftKey:i,metaKey:r,code:s}=e;r&&t.add(J),n&&t.add(B),a&&t.add(z),i&&t.add(K);const o=(e=>{return e.replace(/Key|Digit/,"")})(s);let l=!1;for(const e of t){const t=H[e];if(!t)break;if(t.has(o)){l=!0;break}}return l||t.add(o),[...t].join("+")},Q={el:null,autoEnable:!0,debug:!1,tabindex:0};class U extends I{constructor(e={},t=[]){super(),T(this,"_options"),T(this,"_actions",[]),T(this,"_restoreTabindex",null),T(this,"_isEnabled",!1),T(this,"_onKeyDown",e=>{var t,n;const a=W(e);if(e.hotKey=a,this._options.debug){const t={event:e,hotKey:a};console.log(t),this.emit("debug",t)}(null!=(t=this.events[a])&&t.size||null!=(n=this.onceCallbacks[a])&&n.size)&&(this.emit("action",a),e.preventDefault()),this.emit("keydown",e),this.emit(a,e)}),this._options=V(e,Q),e.el&&this._prepareElement(e.el),t.length&&this.setActions(t),this._options.autoEnable&&this.enable()}get isEnabled(){return this._isEnabled}setActions(e){return this._unsubscribeActions(),this._actions=e,this._subscribeActions(),this.emit("setActions",e),this}enable(e){if(this._isEnabled&&this.disable(),e&&this._prepareElement(e),this._options.el&&"object"==typeof this._options.el)return this._isEnabled=!0,this._options.el.addEventListener("keydown",this._onKeyDown),this.emit("enable"),this}disable(){if(this._options.el&&"object"==typeof this._options.el)return this._isEnabled=!1,this._options.el.removeEventListener("keydown",this._onKeyDown),this.emit("disable"),this}destroy(){this.disable(),this._unsubscribeActions(),this._restoreElement(),this._options=Q,this._actions=[],this.emit("destroy")}toggleDebug(e){return this._options.debug=e,this}_subscribeActions(){this._actions.forEach(({hotKey:e,callback:t})=>this.on(e,t))}_unsubscribeActions(){this._actions.forEach(({hotKey:e,callback:t})=>this.off(e,t))}_prepareElement(e){e&&(this._restoreElement(),this._options.el=D(e),this._options.el&&"number"==typeof this._options.tabindex&&(this._restoreTabindex=this._options.el.getAttribute("tabindex"),this._options.el.setAttribute("tabindex",String(this._options.tabindex))))}_restoreElement(){!this._options.el||"object"!=typeof this._options.el||(this._restoreTabindex?this._options.el.setAttribute("tabindex",this._restoreTabindex):this._options.el.removeAttribute("tabindex"))}}function G(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,$(e,t,"get"))}function Z(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,$(e,t,"set"),n),n}function $(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var F=new WeakMap,Y=new WeakMap,q=new WeakMap;let X,ee=new d,te=new A,ne=new class{constructor(){F.set(this,{writable:!0,value:null}),Y.set(this,{writable:!0,value:null}),q.set(this,{writable:!0,value:[{hotKey:"CTRL+Comma",callback:()=>this.onDecrement()},{hotKey:"CTRL+Period",callback:()=>this.onIncrement()}]})}init(e){Z(this,Y,e),Z(this,F,new U({el:"body",autoEnable:!0,tabindex:!0})),G(this,F).setActions(G(this,q))}destroy(){var e,t;null===(e=G(this,F))||void 0===e||null===(t=e.destroy)||void 0===t||t.call(e),Z(this,F,null),Z(this,Y,null)}onDecrement(){G(this,Y)?G(this,Y).decrementPlaybackRate():s.error("HotKeysController onDecrement: Отсутствует controller")}onIncrement(){G(this,Y)?G(this,Y).incrementPlaybackRate():s.error("HotKeysController onIncrement: Отсутствует controller")}};X=setInterval(()=>{ee.init()&&(clearInterval(X),te.init(ee),ne.init(te))},100)}]);